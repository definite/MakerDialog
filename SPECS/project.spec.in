Name:       @PROJECT_NAME@
Version:    @PRJ_VER@
Release:    @PRJ_VER_RELEASE@%{?dist}
Summary:    @PROJECT_DESCRIPTION@
License:    LGPLv3+
Group:      System Environment/Libraries
URL:        ***USER_DEFINE***
Source0:    ***USER_DEFINE***%{name}-%{version}-Source.tar.gz

BuildRoot:  %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)

BuildRequires:  cmake >= 2.4
BuildRequires:  gob2
BuildRequires:  GConf2-devel

%description
Developers can easily make an configuration dialog with maker-dialog.
Maker-dialog generates corresponding UI components for configuration
properties, such as data type, default value, valid values.
That is, developers no longer need to worry about the implementation
details for various toolkit.

Developers, however, need to provide either callback functions or dbus
messages for value getting and setting to handle such events.

Maker-dialog can also output GConf2 schemas files.

Currently, Gtk toolkit is supported. Will extend to Qt or console mode.

%prep
%setup -q -n %{name}-%{version}-Source

%build
# $RPM_OPT_FLAGS should be  loaded from cmake macro.
%cmake -DCMAKE_BUILD_TYPE:STRING=RelWithDebInfo .
make VERBOSE=1  %{?_smp_mflags}

%install
rm -rf $RPM_BUILD_ROOT
make install DESTDIR=$RPM_BUILD_ROOT
%find_lang %{name}


%clean
rm -rf $RPM_BUILD_ROOT

%files -f %{name}.lang
%defattr(-,root,root,-)
%doc AUTHORS README ChangeLog COPYING

%changelog
@RPM_CHANGELOG@

